<header>
  <a role="button" href="/posts">Home</a>
  <% if (loggedIn) { %>
    <a role="button" href="/posts/create">Create Post</a>
    <a role="button" href="/auth/logout">Logout</a>
    <% } else { %>
      <a role="button" href="/auth/login">Login</a>
      <a role="button" href="/users/">Signup</a>
      <% } %>
</header>
<div class="authOptions">
  <a href="/">
    <h1>WebsiteName</h1>
  </a>
</div>
<div>
  <!-- <p>Implement this page yourself. It is from individualPost.ejs</p> -->
  <!-- added by PK on 2023 11 10 3:53PM -->
  <p class="postTitle">
    <%= post.title %> <span class="userDescription">(subgroup.<%= post.subgroup %>)</span>
  </p>
  <p><span class="votes">Score: <%= post.votes.length %></span> <span class="userDescription">| Posted by <strong>
        <%= post.creator.uname %>
      </strong> on <%= timestamp.toString() %>
        <% if (canEdit) { %>
          | <a href=<%="/posts/edit/" + post.id %>>Edit Post</a> |
          <a href=<%="/posts/deleteconfirm/" + post.id %>>Delete Post</a>
          <% } %></span></p>
  <p class="postDescription">
    <%= post.description %> <br><br>
      <strong>Link:</strong> <a href=<%=post.link %>><%= post.link %></a>
  </p>
</div>

<b>Comments</b>
<hr>
<% comments.forEach(comment=> { %>
  <span>
    <%= comment.description %>
  </span><br>
  <span class="userDescription">Commented by <strong>
      <%= comment.username %>
    </strong> on <%= new Date(comment.timestamp).toString() %> <a href=<%="/comments/show/" + comment.id
        %>>permalink</a></span>
  <hr>
  <% }) %>
    <div>
      <% if (loggedIn) { %>
        <form action=<%="/posts/comment-create/" + post.id %> method="post">
          <textarea name="newComment" id="newComment" placeholder="Add a comment..." rows="4"></textarea>
          <button type="submit">Add Comment</button>
        </form>
        <% } %>
    </div>